<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WeSA Results</title>
  <link
    rel="shortcut icon"
    type="image/x-icon"
    href="../static/images/favicon.ico.png"
  />
  <base target="_blank">
  <!--
    Loading Icon
  <script type="text/javascript" charset="utf8" src="https://raw.github.com/HubSpot/pace/v0.5.3/pace.min.js"></script>
  <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='css/pace_atom.css') }}">
  -->

  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Allerta+Stencil|Staatliches|Roboto:400|Nunito:wght@300;400;700|Audiowide|Lato">
  <link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/qtip2/3.0.3/jquery.qtip.min.css"/>
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/buttons/1.5.6/css/buttons.dataTables.min.css"/>
  <!-- <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='css/jquery.dataTables.css') }}"/> -->
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.21/css/jquery.dataTables.min.css"/>
  <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='css/common.css') }}?v=b3bae01ae7edceff2c15cdafaa8df76d"/>
  <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='css/results_style.css') }}?v=682dd619a5fdbdfa15db6a458d28dbd2"/>

  <link rel="stylesheet" type="text/css" href=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css/>
  <link rel="stylesheet" type="text/css" href=https://cdn.datatables.net/1.10.21/css/dataTables.bootstrap.min.css/>
  <link rel="stylesheet" type="text/css" href=https://cdn.datatables.net/fixedheader/3.1.7/css/fixedHeader.bootstrap.min.css/>
  <link rel="stylesheet" type="text/css" href=https://cdn.datatables.net/responsive/2.2.5/css/responsive.bootstrap.min.css/>


  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/qtip2/3.0.3/jquery.qtip.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/cytoscape/3.9.4/cytoscape.min.js" integrity="sha256-yvhiWj8VRHJV4JL+RmFcz3U2E2tu0bdjJ175tlvhSnE=" crossorigin="anonymous"></script>
  <!-- <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/cytoscape/3.18.1/cytoscape.min.js"></script> -->
  <script type="text/javascript" src="https://cdn.rawgit.com/cytoscape/cytoscape.js-qtip/2.7.1/cytoscape-qtip.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/1.3.8/FileSaver.min.js" integrity="sha256-FPJJt8nA+xL4RU6/gsriA8p8xAeLGatoyTjldvQKGdE=" crossorigin="anonymous"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.2.0/jszip.min.js" integrity="sha256-VwkT6wiZwXUbi2b4BOR1i5hw43XMzVsP88kpesvRYfU=" crossorigin="anonymous"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.57/pdfmake.min.js" integrity="sha256-8s2O+N1IIFZ/3uLADkpz++emTlVbAiI320n5vcyww8M=" crossorigin="anonymous"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.57/vfs_fonts.js"></script>
  <script defer src="https://friconix.com/cdn/friconix.js"> </script>
  <script type="text/javascript" src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/1.10.21/js/dataTables.bootstrap.min.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/fixedheader/3.1.7/js/dataTables.fixedHeader.min.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/responsive/2.2.5/js/dataTables.responsive.min.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/responsive/2.2.5/js/responsive.bootstrap.min.js "></script>

  <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.5.6/js/dataTables.buttons.min.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.5.6/js/buttons.colVis.min.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.5.6/js/buttons.flash.min.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.5.6/js/buttons.html5.min.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.5.6/js/buttons.print.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
  <script type="text/javascript" src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
  <script type="text/javascript" src="{{ url_for('static',filename='js/cyto_graph.js') }}?v=3a6d41c782599fa0d45b06c29b75f4b6"></script>
  <script type="text/javascript" src="{{ url_for('static',filename='js/graph_features2.js') }}?v=3a6d41c782599fa0d45b06c29b75f4b6"></script>
  <!--<script type="text/javascript" src="{{ url_for('static',filename='js/echarts.min.js') }}"></script>
  <script type="text/javascript" src="{{ url_for('static',filename='js/stat_charts.js') }}"></script> -->
  <script type="text/javascript" src="{{ url_for('static',filename='js/cytoscape-svg.js') }}"></script>
  <script type="text/javascript">
    /// Import files

    var graph_json="{{ url_for('static', filename=graph_json)}}";
    var ints_json="{{ url_for('static', filename=ints_json)}}";

    var _paq = window._paq = window._paq || [];
    /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
      var u="https://tr-denbi.embl.de/heimdall/";
      _paq.push(['setTrackerUrl', u+'matomo.php']);
      _paq.push(['setSiteId', '36']);
      var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
      g.type='text/javascript'; g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
    })();
  </script>
  <script type="text/javascript" src="{{ url_for('static',filename='js/cyto_graph.js') }}?v=7a756b1f1cbe008592b17dfe2376dc27"></script>
  <script type="text/javascript" src="{{ url_for('static',filename='js/interaction_table.js') }}?v=61f545ab8292486a44323689c35d5362" async></script>

</head>

<body>

  <div class="grid-container">

    {% include "header.html" %}

    <div class="content" >

      <div class="network-container">
        <div class="control-panel">
          <label class="container"
            title="Hide interactions which have WeSA scores below the recommended WeSA threshold for the selected background dataset.">
              Hide red edges
              <input type="checkbox" id="toggle_red_edges">
              <span class="checkmark"></span>
            </label><br>
          <label class="container"
          title="Hide nodes which have no interactions with WeSA scores above the recommended WeSA threshold for the selected background dataset.">
            Hide nodes with red links only
            <input type="checkbox" id="filter_nodes">
            <span class="checkmark"></span>
          </label><br>
          <!--<div id="elm_red_container" style="float: right;">
            <label class="container"
            title="Hide interactions which have WeSA scores below the recommended WeSA threshold for the selected background dataset.">
              Hide red edges
              <input type="checkbox" id="toggle_red_edges">
              <span class="checkmark"></span>
            </label><br>
          </div> -->
            <label class="container"
            title="Hide interactions which have not been observed previously (in the selected background dataset).">
              Hide dashed edges
              <input type="checkbox" id="hide_dashed_edges">
              <span class="checkmark"></span>
            </label><br>

            <label class="container"
            title="Hide nodes which have no interactions which were observed in previous data.">
              Hide previously unobserved nodes
              <input type="checkbox" id="filter_nodes_solid">
              <span class="checkmark"></span>
            </label><br>

            <button type="button" class="collap-section collap-active" fdprocessedid="jd3jok">
            Threshold options
            </button>
            <div class="collap-content" style="display: block;">

              <label class="container"
              title="Hide edges with score below the 1% FPR threshold (for the selected dataset).">
                Threshold 1% FPR
                <input type="checkbox" id="hide_fpr1_edges">
                <span class="checkmark"></span>
              </label><br>

              <label class="container"
              title="Hide edges with score below the 5% FPR threshold (for the selected dataset).">
                Threshold 5% FPR
                <input type="checkbox" id="hide_fpr5_edges">
                <span class="checkmark"></span>
              </label><br>

              <label class="container"
              title="Hide edges with score below the 10% FPR threshold (for the selected dataset).">
                Threshold 10% FPR
                <input type="checkbox" id="hide_fpr10_edges">
                <span class="checkmark"></span>
              </label><br>

              <label class="container"
              title="Hide edges with score below the 20% FPR threshold (for the selected dataset).">
                Threshold 20% FPR
                <input type="checkbox" id="hide_fpr20_edges">
                <span class="checkmark"></span>
              </label><br>
              <div id="elm_confirmed_container" style="float: right;">
                <label class="container" title="Hide unconnected nodes">
                  Hide unconnected proteins
                  <input type="checkbox" id="hide_fpr20_nodes">
                  <span class="checkmark"></span>
                </label><br>
              </div>

            </div>


        </div>
            <!--
          <div class="collap-content">
            <label class="container"
            title="Binary protein interactions supported by experimental evidence.&#013;Source: BioGRID">
            Protein-Protein
            <input type="checkbox" id="toggle_pp_int" checked="checked">
            <span class="checkmark">
            </label></br>
            <label class="container"
            title="Domain interactions inferred from 3D structures directly or through homology.&#013;Source: 3did, Pfam">
              Domain-Domain (3D structure)
              <input type="checkbox" id="toggle_dom_int">
              <span class="checkmark">
            </label></br>
            <label class="container"
            title="Domain interactions inferred by significant co-occurrence of domain pairs in known interacting proteins. This 'association method' is described in Sprinzak and Margalit (2001). &#013;The log-odds (LO) indicate the strength of the domain association.&#013;Use the slider to increase or decrease the threshold.">
              Domain-Domain (Co-occurrence)
              <input type="checkbox" id="toggle_idom_int">
              <span class="checkmark">
            </label>
            <div class="slidecontainer" id="lo_slider_container">
              LO >= <b><span id="lo_value"></span></b>
              <input type="range" min="2" max="10" value="2" step="0.1" class="slider" id="lo_slider" disabled>
            </div>

            <label class="container"
            title="Interactions between linear motifs and their binding domains, obtained from annotated motif classes.&#013;Source: ELM (Eukaryotic Linear Motif resource).">
              Domain-Motif (Annotation)
              <input type="checkbox" id="toggle_elmdom_int">
              <span class="checkmark">
            </label></br>
            <label class="container"
            title="Interactions between linear motifs and their binding domains, inferred from 3D structures.&#013;Source: 3did">
              Domain-Motif (3D structure)
              <input type="checkbox" id="toggle_dmi3d_int">
              <span class="checkmark">
            </label></br>
            <div id="confirmed_dmi3d_container" style="float: right; display: none;">
              <label class="container">[Only confirmed]
                <input type="checkbox" id="confirmed_dmi3d_toggle">
                <span class="checkmark"></span>
              </label></br>
            </div>
            <label class="container"
            title="Interacting protein regions predicted with InterPreTS&#013;(http://www.russelllab.org/cgi-bin/tools/interprets.pl/)">
              3D structure predictions
              <input type="checkbox" id="toggle_prets_int">
              <span class="checkmark">
            </label title=>
            <div>
              P-value <=<input type="number" id="pval_cutoff" min=0 max=1 value="0.75" step="0.0001">
            </div>
          </div>

          <button type="button" class="collap-section">
            UniProt features <br> and interactions
          </button>

          <div class="collap-content">
            <label class="container"><div>Region
              <input type="checkbox" id="toggle_uni_regions">
              <span class="checkmark"></div>
            </label></br>
            <label class="container"><div>Binding sites
              <input type="checkbox" id="toggle_uni_binding">
              <span class="checkmark"></div>
              </label></br>
            <label class="container"><div>Metal binding
              <input type="checkbox" id="toggle_uni_metal">
              <span class="checkmark"></div>
            </label></br>
            <label class="container"><div>DNA binding
              <input type="checkbox" id="toggle_uni_dnabind">
              <span class="checkmark"></div>
            </label>
            <label class="container"><div>Mutagenesis
              <input type="checkbox" id="toggle_uni_mutagen">
              <span class="checkmark"></div>
            </label></br>
            <label class="container"><div>Transmembrane
              <input type="checkbox" id="toggle_uni_transmem">
              <span class="checkmark"></div>
            </label></br>
            <label class="container"><div>Disulfide bonds
              <input type="checkbox" id="toggle_uni_disulfid">
              <span class="checkmark"></div>
            </label></br>
          </div>

          <button type="button" class="collap-section">
            Modifications
          </button>

          <div class="collap-content">

            <label class="container">Phosphorylations
              <input type="checkbox" id="toggle_phos">
              <span class="checkmark">
            </label></br>
            <label class="container">Acetylations
              <input type="checkbox" id="toggle_acet">
              <span class="checkmark">
            </label></br>
            <label class="container">Glycosylations
              <input type="checkbox" id="toggle_glyc">
              <span class="checkmark">
            </label>
          </div> -->
          <!--
          <button type="button" class="collap-section">
            Variants
          </button>
          <div class="collap-content">
            <label class="container">User-input
              <input type="checkbox" id="toggle_input_mut">
              <span class="checkmark">
            </label></br>
            <label class="container">Human cancer
              <input type="checkbox" id="toggle_cosmic_mut">
              <span class="checkmark">
            </label></br>
            Sample >=<input type="number" id="sample_min" min=1 max=1000 value="2" step="1">
            <label class="container"><div>Genetic diseases
              <input type="checkbox" id="toggle_uni_variants">
              <span class="checkmark"></div>
            </label></br>
          </div>
        </div>

        <div class="network"> -->
        <div class="network">
            <!-- Cytoscape.js container -->
            <!--Only the first line is needed to generate the network-->
          <div class="cytoscape_container" id="cy"></div>
          <div class="tools-widget">
            <button class="my-btn" id="help-btn" title="Help">
              <i class="far fa-question-circle"></i>
            </button>
            <button class="my-btn" id="center" title="Center graph">
              <i class="fa fa-align-center"></i>
            </button>
            <button class="my-btn" id="lock" title="Lock/unlock element positions">
              <i class="fa fa-unlock"></i>
            </button>
          </div>

          <div class="dl-widget">
            <div id="dl-content">
              <!--<button class="dl-btn-pic" id="dl_svg"
              title="Download complete network as a vector graphic">
                <i class="fas fa-file-download"></i> SVG
              </button> -->
              <button class="dl-btn-pic" id="dl_jpg"
              title="Take a snapshot of the current network view as JPG.">
                <i class="fas fa-camera"></i> JPG
              </button>
              <button class="dl-btn-pic" id="dl_png"
              title="Take a snapshot of the current network view as PNG.">
                <i class="fas fa-camera"></i> PNG
              </button>
            </div>
            <button class="my-btn dl-btn-off" id="dl-btn"
            title="Download network view.">
              <i class="fas fa-download"></i>
            </button>
          </div>

          <div class="zoom-widget">
              <div class="zoom-widget-row">
                <button class="my-btn" id="zoom_in" title="Zoom in">
                  <i class="fas fa-search-plus"></i>
                </button>
              </div>
              <div class="zoom-widget-row">
                <button class="my-btn" id="zoom_out" title="Zoom out">
                  <i class="fas fa-search-minus"></i>
                </button>
              </div>
          </div>

            <!--
          {% if no_int_prots|length > 0 %}
          <div class="miss-widget">
            No mechanism found for:
            <ul class="comma-list">
            {% for prot in no_int_prots %}
              <li>
                <button class="miss-btn" onclick=showProt("{{ prot }}") title="Show/hide protein">
                  <b>{{ prot }}</b>
                </button>
              </li>
            {% endfor %}
            </ul>
          </div>
          {% endif %}-->

          <div class="modal" id="help-modal">
            <div class="modal-content">
              <span style="padding-right: 3px; background-color: #e44445;" class="modal-close" id="help-modal-close">&times;</span>
              <h4 style="padding: 3px; background-color: #e44445; color: white;">
                <b>Quick Guide</b>
              </h4>
              <ul style="list-style: none;">
                <li>
                  <i class="fas fa-arrows-alt" style="font-size:x-large;"></i>
                  <b>Move</b> proteins around by clicking and dragging them.
                </li>
                <li>
                  <i class="fas fa-search-plus" style="font-size:x-large;"></i>
                  <b>Zoom</b> in and out with your mouse wheel or by using the toolbar buttons.
                </li>
                <!--<li>
                  <i class="fas fa-hand-pointer" style="font-size:x-large;"></i>
                  <b>Hover</b> over elements to highlight connected nodes and edges, and to show their labels.
                </li>-->
                <li>
                  <i class="fas fa-comment-alt" style="font-size:x-large;"></i>
                  <b>Click</b> on nodes and edges to display boxes with more information.
                </li>
                <li>
                  <i class="fas fa-check-square" style="font-size:x-large;"></i>
                  <b>Toggle</b> on or off the different nodes and interactions using the toolbox on the left.
                </li>
                <li>
                  <i class="fas fa-camera" style="font-size:x-large;"></i>
                  <b>Download</b> as snapshot of the network view at any moment as a JPG or SVG image.
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <br>
      <div class="alert alert-info" id="bookmark-msg">
        Remember! Bookmark this page if you want to access your results later.
        <span id='bookmark-close' style="cursor: pointer;"><!--<strong> (Dismiss)</strong>--></span>
      </div>

      <div class="section-header"><i class="fas fa-list"></i> WeSA Scores</div>
      <div class="interaction-table-container">
        <table id="interaction-table" class="table table-striped table-bordered">
          <thead>
            <tr>
              {% if columns|length > 0 %}
                {% for col in columns %}
                  <th>{{ col }}</th>
                {% endfor %}
              {% endif %}
            </tr>
          </thead>
          <tfoot>
            <tr>
              {% if columns|length > 0 %}
                {% for col in columns %}
                  <th>{{ col }}</th>
                {% endfor %}
              {% endif %}
            </tr>
          </tfoot>
        </table>
      </div>

      <button id="goToTop"><i class="fas fa-level-up-alt"></i></button>
    </div>

    {% include "footer.html" %}

  </div>


</body>
</html>